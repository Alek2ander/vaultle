import{d as O,o,c as a,F as w,r as T,a as h,b as N,n as I,t as g,p as q,e as D,f as m,g as Z,h as J,i as M,w as Q,T as X,u as Y,j as P,k as ee}from"./vendor.34af7f46.js";const te=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function f(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(e){if(e.ep)return;e.ep=!0;const n=f(e);fetch(e.href,n)}};te();const G=" Using word of the day instead.";function se(){if(location.search)try{const e=atob(location.search.slice(1));if(e.length!==5)alert(`Incorrect word length from encoded query. ${G}`);else return e}catch{alert(`Malformed encoded word query. ${G}`)}const s=new Date,i=new Date(2022,0,0),f=Number(s)-Number(i);let d=Math.floor(f/(1e3*60*60*24));for(;d>z.length;)d-=z.length;return z[d]}const z=["su.xd",'"(.gj',")bc.o","utu.v","(.1w1",`"ph's`,";'.fs","u.'.e",'"by.s','"s:)s','r."xa','(."as','"b:)n','r."ph','r."n)',"u.)xl",'"p:)i','")ils','"c.xd','r."zm','"bgxa','"(r.h','"bxep','"bsxi',')"gxg','y.)"g',')"sii',")xr.1",'"bxhs',"(.xof",'"e:)z','y."zm',';")pr',")rt.i",'"e:;m',";(.al",")r.oh",")v:)n",'"r.pm','"e:"e','"basr',"'.r.3",'r."ga',";u.dc","ktu.v","'.k.i",'"(.gi',")m:)r",'r."le','"xr.z',";x(.=",";x'.=",'"gr.p',"'.ykr",')"n:)','")"eq','"t."l','"bu.l',';"gxg',"'.r.2","k.s;i","u.x'e","'.r.p","u.)hi",'"bsii',";ff'f",'"br.p',`r."'s`,";(r.z",";(r.h",")zk.i",'(."pa',")'.sr",')"r.o','";"ph',";c.of",")'.pr",'"bvsu',");)ov","u.)so",'"br.z',"'.)si","r.;fc",'xac."','"br.s','"e:)i','"bsef','"ju.l','"bgxg',";x'fs",'"u.vs',"u.)'p",")vu.l","c.x's",'"bxl=','"?."g',')"nvv','"sefl',")c.dr",";x'.f","r.)pr",'(."xa',")(.gi","'.;x=","u.)fr",'"gxgh','"bn:)','"bc.d','r."el',")'prt",'u."ph',')"mqr',")i:)h",'"bxsu',`"'r.p`,'"bxle',`"b'.s`,'"g:)s',")c.of","'.)hi",";1's1",'"(.al'],re=["su.xd",'"(.gj',")bc.o","utu.v","(.1w1",`"ph's`,";'.fs","u.'.e",'"by.s','"s:)s','r."xa','(."as','"b:)n','r."ph','r."n)',"u.)xl",'"p:)i','")ils','"c.xd','r."zm','"bgxa','"(r.h','"bxep','"bsxi',')"gxg','y.)"g',')"sii',")xr.1",'"bxhs',"(.xof",'"e:)z','y."zm',';")pr',")rt.i",'"e:;m',";(.al",")r.oh",")v:)n",'"r.pm','"e:"e','"basr',"'.r.3",'r."ga',";u.dc","ktu.v","'.k.i",'"(.gi',")m:)r",'r."le','"xr.z',";x(.=",";x'.=",'"gr.p',"'.ykr",')"n:)','")"eq','"t."l','"bu.l',';"gxg',"'.r.2","k.s;i","u.x'e","'.r.p","u.)hi",'"bsii',";ff'f",'"br.p',`r."'s`,";(r.z",";(r.h",")zk.i",'(."pa',")'.sr",')"r.o','";"ph',";c.of",")'.pr",'"bvsu',");)ov","u.)so",'"br.z',"'.)si","r.;fc",'xac."','"br.s','"e:)i','"bsef','"ju.l','"bgxg',";x'fs",'"u.vs',"u.)'p",")vu.l","c.x's",'"bxl=','"?."g',')"nvv','"sefl',")c.dr",";x'.f","r.)pr",'(."xa',")(.gi","'.;x=","u.)fr",'"gxgh','"bn:)','"bc.d','r."el',")'prt",'u."ph',')"mqr',")i:)h",'"bxsu',`"'r.p`,'"bxle',`"b'.s`,'"g:)s',")c.of","'.)hi",";1's1",'"(.al'],oe=[...z,...re];var V=(s,i)=>{const f=s.__vccOpts||s;for(const[d,e]of i)f[d]=e;return f};const ae=s=>(q("data-v-2c48fbb8"),s=s(),D(),s),ne={id:"keyboard"},le={class:"row"},ue={key:0,class:"spacer"},ie=["onClick"],ce={key:0},de={key:1},fe={key:2,xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},pe=ae(()=>h("path",{fill:"currentColor",d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z"},null,-1)),ve=[pe],he={key:1,class:"spacer"},ge=O({props:{letterStates:null},emits:["key"],setup(s){const i=["qwertyuiop=123".split(""),`asdfghjkl;:'"`.split(""),["Enter",..."zxcvbnm.?()".split(""),"Backspace"]];return(f,d)=>(o(),a("div",ne,[(o(),a(w,null,T(i,(e,n)=>h("div",le,[n===1?(o(),a("div",ue)):N("",!0),(o(!0),a(w,null,T(e,l=>(o(),a("button",{class:I([l.length>1&&"big",s.letterStates[l]]),onClick:p=>f.$emit("key",l)},[l!=="Enter"&&l!=="Backspace"?(o(),a("span",ce,g(l),1)):l==="Enter"?(o(),a("span",de,"ENTER")):(o(),a("svg",fe,ve))],10,ie))),256)),n===1?(o(),a("div",he)):N("",!0)])),64))]))}});var me=V(ge,[["__scopeId","data-v-2c48fbb8"]]),c;(function(s){s[s.INITIAL=0]="INITIAL",s.CORRECT="correct",s.PRESENT="present",s.ABSENT="absent"})(c||(c={}));const be=s=>(q("data-v-12d63f73"),s=s(),D(),s),_e={key:0,class:"message"},xe={key:0,class:"answer"},ye={key:1},we={key:2},ke=be(()=>h("header",null,[h("h1",null,"VAULTLE"),h("a",{id:"source-link",href:"https://github.com/alek2ander/vaultle",target:"_blank"},"Source")],-1)),Ee={id:"board"},Te=O({setup(s){const i=se(),f=new Date,d=new Date(2022,0,0),e=Number(f)-Number(d);let n=Math.floor(e/(1e3*60*60*24));const l=m(Array.from({length:6},()=>Array.from({length:5},()=>({letter:"",state:c.INITIAL}))));let p=m(0);const v=Z(()=>l.value[p.value]);let _=m(""),k=m(""),R=m(-1),S=m(!1);const b=m({});let C=!0;const $=t=>A(t.key);window.addEventListener("keyup",$),J(()=>{window.removeEventListener("keyup",$)});function A(t){!C||(/^[a-zA-Z.:()?";=123]$/.test(t)||t==="'"?K(t.toLowerCase()):t==="Backspace"?H():t==="Enter"&&U())}function K(t){for(const u of v.value)if(!u.letter){u.letter=t;break}}function H(){for(const t of[...v.value].reverse())if(t.letter){t.letter="";break}}function U(){if(v.value.every(t=>t.letter)){const t=v.value.map(r=>r.letter).join("");if(!oe.includes(t)&&t!==i){B(),E("Not in word list");return}const u=i.split("");v.value.forEach((r,x)=>{u[x]===r.letter&&(r.state=b.value[r.letter]=c.CORRECT,u[x]=null)}),v.value.forEach(r=>{!r.state&&u.includes(r.letter)&&(r.state=c.PRESENT,u[u.indexOf(r.letter)]=null,b.value[r.letter]||(b.value[r.letter]=c.PRESENT))}),v.value.forEach(r=>{r.state||(r.state=c.ABSENT,b.value[r.letter]||(b.value[r.letter]=c.ABSENT))}),C=!1,v.value.every(r=>r.state===c.CORRECT)?setTimeout(()=>{k.value=j(),E(["Genius","Magnificent","Impressive","Splendid","Great","Phew"][p.value],-1),S.value=!0},1600):p.value<l.value.length-1?(p.value++,setTimeout(()=>{C=!0},1600)):setTimeout(()=>{k.value=j(),show_answer=!0,E(i,-1)},1600)}else B(),E("Not enough letters")}function E(t,u=1e3){_.value=t,u>0&&setTimeout(()=>{_.value=""},u)}function B(){R.value=p.value,setTimeout(()=>{R.value=-1},1e3)}const W={[c.CORRECT]:"\u{1F7E9}",[c.PRESENT]:"\u{1F7E8}",[c.ABSENT]:"\u2B1C",[c.INITIAL]:null};function j(){return l.value.slice(0,p.value+1).map(t=>t.map(u=>W[u.state]).join("")).join(`
`)}return(t,u)=>(o(),a(w,null,[M(X,null,{default:Q(()=>[_.value?(o(),a("div",_e,[t.show_answer?(o(),a("div",xe,g(_.value),1)):(o(),a("div",ye,g(_.value),1)),k.value?(o(),a("pre",we,"Vaultle #"+g(Y(n))+`\r
`+g(k.value),1)):N("",!0)])):N("",!0)]),_:1}),ke,h("div",Ee,[(o(!0),a(w,null,T(l.value,(r,x)=>(o(),a("div",{class:I(["row",R.value===x&&"shake",S.value&&p.value===x&&"jump"])},[(o(!0),a(w,null,T(r,(y,L)=>(o(),a("div",{class:I(["tile",y.letter&&"filled",y.state&&"revealed"])},[h("div",{class:"front",style:P({transitionDelay:`${L*300}ms`})},g(y.letter),5),h("div",{class:I(["back",y.state]),style:P({transitionDelay:`${L*300}ms`,animationDelay:`${L*100}ms`})},g(y.letter),7)],2))),256))],2))),256))]),M(me,{onKey:A,"letter-states":b.value},null,8,["letter-states"])],64))}});var Ne=V(Te,[["__scopeId","data-v-12d63f73"]]);window.addEventListener("resize",F);F();function F(){document.body.style.setProperty("--vh",window.innerHeight+"px")}ee(Ne).mount("#app");
